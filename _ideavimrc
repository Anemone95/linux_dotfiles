Plug 'preservim/nerdtree'
Plug 'terryma/vim-multiple-cursors'
" set expandtab on, the tab will be change to space automaticaly
set tabstop=4 " set tabstop to 4 characters
set expandtab
set relativenumber
set nu

" 搜索
set showmatch " show matching paren
set incsearch " do incremental searching
set hlsearch " highlight search terms
set ignorecase " set search/replace pattern to ignore case
set smartcase " set smartcase mode on, If there is upper case character in the search patern, the 'ignorecase' option will be override.

" 搜索忽略大小写
set ic
set clipboard=unnamed

" 保留5行
set scrolloff=10

" 关闭系统警告声
set noeb
set vb

let mapleader ="\\"

" 增强剪切板
map <leader>y "*y
vmap <leader>y "*y
map <leader>p "*p

" surround
set surround

" w为选择到这个单词结尾
noremap w e

" 缩进
vnoremap < <gv
vnoremap > >gv

" 全选
nmap <c-a> ggVG<CR>

" 书签
nmap mm <action>(ToggleBookmark)
nmap mp <action>(GotoPreviousBookmark)
nmap mn <action>(GotoNextBookmark)

" 运行
nmap <F9> <action>(Run)
imap <F9> <action>(Run)
nmap <S-F9> <action>(RunClass)
imap <S-F9> <action>(RunClass)
" 调试
nmap <F10> <action>(Debug)
imap <F10> <action>(Debug)

nmap <F8> <action>(StepOver)
nmap <F7> <action>(StepInto)
nmap <S-F7> <action>(StepOut)
nmap <F6> <action>(Resume)

" Set breakpoint
nmap <leader>b <action>(ToggleLineBreakPoint)

" Tab
nmap bn <action>(NextTab)
nmap bp <action>(PreviousTab)

" 搜索
nmap <leader>ff <action>(SearchEverywhere)
nmap <leader>fe <action>(FindInPath)
nmap <leader>fr <action>(RecentChangedFiles)
nmap <leader>gr <action>(RecentChangedFiles)
nmap <leader>s <action>(FileStructurePopup)
" noremap \fp <action>(FindInPath)
" noremap \ff <action>(GotoFile)
" noremap \fc <action>(GotoClass)
" noremap \gg <action>(FindUsages)
" noremap \fi <action>(GotoDeclaration)

" 代码折叠
nmap zo <action>(ExpandRegion)
nmap zz <action>(CollapseRegion)
nmap za <action>(CollapseAllRegions)
nmap <space> <action>(CollapseRegion)

" 格式化代码
nmap = <action>(ReformatCode)
vmap = <action>(ReformatCode)

" clear unused imports
nmap <leader>w <action>(OptimizeImports):%s/\s\+$//g<CR>


" Generate
nmap \ge j<action>(Generate)
imap \ge <Esc>j<action>(Generate)

"Ctrl+h/j/k/l切换窗口
noremap <Up> <c-w>k
noremap <Down> <c-w>j
noremap <Left> <c-w>h
noremap <Right> <c-w>l

"auto correct
map \cr <action>(ShowIntentionActions)
imap \cr <action>(ShowIntentionActions)

" 注释
nmap \ci <action>(CommentByLineComment)
imap \ci <Esc><action>(CommentByLineComment)
vmap \ci <action>(VimVisualSwapSelections)<action>(CommentByLineComment)<Esc>


" 多行编辑
vmap <C-n> <A-n>
vmap <C-x> <A-x>

" rename variables
nmap <leader>rn <action>(RenameElement)

" 函数跳转
" nmap gd <c-]><esc>
nmap gi <action>(GotoImplementation)
nmap gr <action>(FindUsages)
nmap go <action>(Back)
nmap gp <action>(JumpToLastChange)
nmap gn <action>(JumpToNextChange)
nmap gq <action>(GotoNextError)

set clipboard+=ideaput
set ideajoin
" sethandler <F2> a:vim
nmap <F2> :NERDTreeToggle<CR>
nmap <F3> <action>(ActivateTerminalToolWindow)
nmap <F4> :NERDTreeFind<CR>
nmap <F12> <action>(HideAllWindows)

" paste 后不替换
vmap p "_dhp

" selection quotes
nmap <Leader>v vi"

" 选择模式扩大选择范围
vmap v <Action>(EditorSelectWord)
" 选择模式缩小选择范围
vmap V <Action>(EditorUnSelectWord)

set ideavimsupport=

" like key bindings
set macmeta
" Mathematical symbols mappings
inoremap <expr> <M-1> "¬"
inoremap <expr> <M-S-1> "±"
inoremap <expr> <M-2> "∃"
inoremap <expr> <M-S-2> "⇒"
inoremap <expr> <M-3> "∀"
inoremap <expr> <M-S-3> "↦"
inoremap <expr> <M-4> "∪"
inoremap <expr> <M-S-4> "∩"
inoremap <expr> <M-5> "⊔"
inoremap <expr> <M-S-5> "⨅"
inoremap <expr> <M-6> "∨"
inoremap <expr> <M-S-6> "∧"
inoremap <expr> <M-7> "∅"
inoremap <expr> <M-S-7> "→"
inoremap <expr> <M-8> "∘"
inoremap <expr> <M-S-8> "×"
inoremap <expr> <M-9> "⊆"
inoremap <expr> <M-S-9> "⊂"
inoremap <expr> <M-0> "⊇"
inoremap <expr> <M-S-0> "⊃"
inoremap <expr> <M--> "∈"
inoremap <expr> <M-S--> "⤳"
inoremap <expr> <M-=> "≠"
inoremap <expr> <M-S-=> "≈"

inoremap <expr> <M-\> "⊥"
inoremap <expr> <M-S-\> "⊤"
inoremap <expr> <M-[> "⟦"
inoremap <expr> <M-S-[> "⊑"
inoremap <expr> <M-]> "⟧"
inoremap <expr> <M-S-]> "⊒"

inoremap <expr> <M-;> "⊏"
inoremap <expr> <M-S-;> "⊐"


inoremap <expr> <M-,> "≤"
inoremap <expr> <M-S-,> "≪"
inoremap <expr> <M-.> "≥"
inoremap <expr> <M-S-.> "≫"
inoremap <expr> <M-/> "÷"
inoremap <expr> <M-S-/> "Σ"

""Greek alphabet mappings
inoremap <expr> <M-a> "α"
inoremap <expr> <M-S-a> "Λ"
inoremap <expr> <M-b> "β"
inoremap <expr> <M-c> "χ"
inoremap <expr> <M-d> "δ"
inoremap <expr> <M-S-d> "Δ"
inoremap <expr> <M-S-e> "ε"
inoremap <expr> <M-f> "ϕ"
inoremap <expr> <M-S-f> "Φ"
inoremap <expr> <M-g> "γ"
inoremap <expr> <M-S-g> "Γ"
inoremap <expr> <M-h> "η"
inoremap <expr> <C-i> "ι"
inoremap <expr> <M-k> "κ"
inoremap <expr> <M-S-l> "λ"
inoremap <expr> <M-j> "Λ"
inoremap <expr> <M-m> "μ"
""niu
inoremap <expr> <M-S-n> "ν"
inoremap <expr> <M-o> "ο"
inoremap <expr> <M-p> "π"
inoremap <expr> <M-S-p> "Π"
inoremap <expr> <M-q> "θ"
inoremap <expr> <M-S-q> "Θ"
inoremap <expr> <M-r> "ρ"
inoremap <expr> <M-s> "σ"
inoremap <expr> <M-t> "τ"
""upsilon
inoremap <expr> <M-S-u> "υ"
inoremap <expr> <M-v> "ϒ"
inoremap <expr> <M-S-v> "¥"
inoremap <expr> <M-w> "ω"
inoremap <expr> <M-S-w> "Ω"
inoremap <expr> <M-x> "ξ"
inoremap <expr> <M-S-x> "Ξ"
inoremap <expr> <M-y> "ψ"
inoremap <expr> <M-S-y> "Ψ"
inoremap <expr> <M-z> "ζ"
